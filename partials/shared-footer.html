    <!-- Shared Footer -->
    <footer class="shared-footer">
      <div class="footer-links">
        <a href="about.html">ุนู ุงูุฃุฏูุงุช</a>
        <a href="all-tools.html">ุฌููุน ุงูุฃุฏูุงุช</a>
        <a href="https://arabsad.com" target="_blank">ุงููููุน ุงูุฑุณูู</a>
        <a href="https://wa.me/201110760081" target="_blank">ูุงุชุณุงุจ</a>
        <a href="mailto:info@arabsad.com">ุชูุงุตู ูุนูุง</a>
      </div>
      
      <p>&copy; 2025 ูุคุณุณุฉ ุฅุนูุงูุงุช ุงูุนุฑุจ โ ุฃุฏูุงุช ูุฌุงููุฉ ูููุณูููู ุงูุนุฑุจ</p>
      
      <div style="margin-top: 15px; font-size: 14px; opacity: 0.8; line-height: 1.4;">
        โจ ุชุญุฏูุซ ุฌุฏูุฏ: ุฌููุน ุงูุฃุฏูุงุช ููุนููุฉ + ุจูุช ุฐูู ูุชุนุฏุฏ ุงูููุฌุงุช<br>
        <small>ุชู ุขุฎุฑ ุชุญุฏูุซ: 2 ููููุจุฑ 2025</small>
      </div>
      
      <div style="margin-top: 15px; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap;">
        <span style="background: rgba(255,255,255,0.1); padding: 5px 12px; border-radius: 15px; font-size: 13px;">
          ๐ 12+ ุฃุฏุงุฉ ูุฌุงููุฉ
        </span>
        <span style="background: rgba(255,255,255,0.1); padding: 5px 12px; border-radius: 15px; font-size: 13px;">
          ๐ ุฏุนู ุฌููุน ุงูููุตุงุช
        </span>
        <span style="background: rgba(255,255,255,0.1); padding: 5px 12px; border-radius: 15px; font-size: 13px;">
          ๐ค ุจูุช ุฐูู
        </span>
      </div>
    </footer>
  </div>

  <!-- Floating Action Buttons -->
  <!-- WhatsApp Contact Button -->
  <a href="#whatsappContact" class="whatsapp-float" id="whatsappBtn">
    <i class="fab fa-whatsapp" style="font-size: 1.5rem;"></i>
  </a>
  
  <!-- Smart Chatbot Button -->
  <button class="chatbot-float" id="chatbotToggle">
    <i class="fas fa-comments" style="font-size: 1.5rem;"></i>
  </button>
  
  <!-- Back to Top Button -->
  <button class="back-to-top" id="backToTop">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Chatbot Mini Window -->
  <div id="miniChatWindow" style="position: fixed; bottom: 100px; left: 24px; width: 320px; max-width: calc(100vw - 48px); background: white; border-radius: 15px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); z-index: 1001; display: none; overflow: hidden;">
    <div style="background: var(--gradient); color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center;">
      <div>
        <strong>ูุณุงุนุฏ ุงูุญุงุณุจุงุช ุงูุนุฑุจู</strong>
        <div style="font-size: 12px; opacity: 0.9;">ูููู ุฌููุน ุงูููุฌุงุช ุงูุนุฑุจูุฉ</div>
      </div>
      <button id="closeMiniChat" style="background: none; border: none; color: white; font-size: 18px; cursor: pointer;">&times;</button>
    </div>
    
    <div id="miniChatMessages" style="padding: 15px; max-height: 200px; overflow-y: auto;">
      <div style="background: #f3f4f6; padding: 10px; border-radius: 10px; font-size: 14px; line-height: 1.4;">
        ุฃููุงู! ๐ ุฃูุง ูุณุงุนุฏู ุงูุฐูู<br>
        ููู ุงูู ุงููู ูุญุชุงุฌู ููุฑุดุฏู ููุฃุฏุงุฉ ุงูุตุญ! ๐ฏ
      </div>
    </div>
    
    <div style="padding: 10px; border-top: 1px solid #e5e7eb;">
      <div style="display: flex; gap: 5px;">
        <input type="text" id="miniChatInput" placeholder="ุงูุชุจ ููุง... (ูุซู: ุนุงูุฒ ุฃุญุณุจ ROI)" 
               style="flex: 1; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 20px; font-size: 14px; font-family: inherit;">
        <button id="miniChatSend" style="background: var(--gradient); color: white; border: none; padding: 8px 12px; border-radius: 20px; cursor: pointer;">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Shared JavaScript -->
  <script src="chatbot.js"></script>
  <script>
    // Analytics tracking functions
    function trackButtonClick(buttonName, toolName) {
      gtag('event', 'click', {
        event_category: 'Tool Navigation',
        event_label: toolName + ' - ' + buttonName,
        tool_name: toolName
      });
    }
    
    function trackFormSubmission(toolName, formData) {
      gtag('event', 'form_submit', {
        event_category: 'Tool Usage',
        event_label: toolName,
        tool_name: toolName
      });
    }
    
    function trackResultGenerated(toolName, result) {
      gtag('event', 'result_generated', {
        event_category: 'Calculation',
        event_label: toolName,
        value: 1,
        tool_name: toolName
      });
    }
    
    // WhatsApp Integration
    document.getElementById('whatsappBtn').addEventListener('click', function(e) {
      e.preventDefault();
      
      const toolName = document.title.split('|')[0].trim();
      const message = `ุฃุฑูุฏ ุงุณุชุดุงุฑุฉ ุนู: ${toolName}`;
      const url = `https://wa.me/201110760081?text=${encodeURIComponent(message)}`;
      
      trackButtonClick('WhatsApp Contact', toolName);
      window.open(url, '_blank');
    });
    
    // Mini Chatbot Functionality
    const chatToggle = document.getElementById('chatbotToggle');
    const miniChat = document.getElementById('miniChatWindow');
    const closeMiniChat = document.getElementById('closeMiniChat');
    const miniChatInput = document.getElementById('miniChatInput');
    const miniChatSend = document.getElementById('miniChatSend');
    const miniChatMessages = document.getElementById('miniChatMessages');
    
    chatToggle.addEventListener('click', () => {
      const isVisible = miniChat.style.display === 'block';
      miniChat.style.display = isVisible ? 'none' : 'block';
      if (!isVisible) {
        miniChatInput.focus();
        trackButtonClick('Chatbot Open', document.title.split('|')[0].trim());
      }
    });
    
    closeMiniChat.addEventListener('click', () => {
      miniChat.style.display = 'none';
    });
    
    function addMiniChatMessage(text, isBot = false) {
      const msgDiv = document.createElement('div');
      const bgColor = isBot ? '#f3f4f6' : '#667eea';
      const textColor = isBot ? '#374151' : 'white';
      const align = isBot ? 'left' : 'right';
      
      msgDiv.innerHTML = `<div style="background: ${bgColor}; color: ${textColor}; padding: 8px 12px; border-radius: 10px; margin: 8px 0; font-size: 13px; line-height: 1.4; text-align: ${align}; ${isBot ? 'margin-right: 20px;' : 'margin-left: 20px;'}">${text}</div>`;
      miniChatMessages.appendChild(msgDiv);
      miniChatMessages.scrollTop = miniChatMessages.scrollHeight;
    }
    
    function sendMiniChatMessage() {
      const message = miniChatInput.value.trim();
      if (!message) return;
      
      addMiniChatMessage(message, false);
      miniChatInput.value = '';
      
      // Track chat usage
      trackButtonClick('Chatbot Message', message.substring(0, 20));
      
      // Bot response
      setTimeout(() => {
        let response = '๐ ุดูุฑุงู ูุณุคุงูู!';
        
        const msg = message.toLowerCase();
        const currentTool = document.title.toLowerCase();
        
        if (msg.includes('cpc') || msg.includes('ุชูููุฉ ุงูููุฑุฉ')) {
          response = '๐ ููุชุงุฒ! ุฌุฑุจ <a href="cpc-calculator.html" style="color: #667eea; font-weight: bold;">ุญุงุณุจุฉ CPC</a>';
        } else if (msg.includes('roi') || msg.includes('ุนุงุฆุฏ')) {
          response = '๐ ุฒูู! ุงุณุชุฎุฏู <a href="roi-calculator.html" style="color: #10b981; font-weight: bold;">ุญุงุณุจุฉ ROI</a>';
        } else if (msg.includes('cpa') || msg.includes('ุนููู')) {
          response = '๐ฏ ุฃููุฏ! <a href="cpa-calculator.html" style="color: #f59e0b; font-weight: bold;">ุญุงุณุจุฉ CPA</a> ูุชููุฏู';
        } else if (msg.includes('ููุฒุงููุฉ') || msg.includes('budget')) {
          response = '๐ ููุชุงุฒ! <a href="budget-planner.html" style="color: #8b5cf6; font-weight: bold;">ูุฎุทุท ุงูููุฒุงููุฉ</a> ูููุฒุนูู ูููุณู ุจุฐูุงุก';
        } else if (msg.includes('utm') || msg.includes('ุชุชุจุน')) {
          response = '๐ ุฒูู! <a href="utm-generator.html" style="color: #06b6d4; font-weight: bold;">ูููุฏ UTM</a> ูุฑูุงุจุท ุชุชุจุน ุงุญุชุฑุงููุฉ';
        } else if (msg.includes('ูุงุชุณุงุจ') || msg.includes('ุฑุณุงุฆู')) {
          response = '๐ฌ ููุชุงุฒ! <a href="whatsapp-generator.html" style="color: #25d366; font-weight: bold;">ูููุฏ ูุงุชุณุงุจ</a> ููุนุทูู ุฑุณุงุฆู ุฌุงูุฒุฉ';
        } else if (msg.includes('ูุณุงุนุฏุฉ') || msg.includes('help')) {
          response = '๐ค ุฃููุฏ ูุณุงุนุฏู! ุนูุฏูุง 12 ุฃุฏุงุฉ ูุฌุงููุฉ:<br><br>๐ฐ <a href="cpc-calculator.html">CPC</a> | ๐ <a href="roi-calculator.html">ROI</a> | ๐ฏ <a href="cpa-calculator.html">CPA</a><br>๐ <a href="budget-planner.html">ููุฒุงููุฉ</a> | ๐ <a href="utm-generator.html">UTM</a> | ๐ฌ <a href="whatsapp-generator.html">ูุงุชุณุงุจ</a>';
        } else {
          // Detect current tool and suggest related tools
          if (currentTool.includes('cpc')) {
            response = 'ูุฐู ุญุงุณุจุฉ CPC! ุฌุฑุจ ููุงู <a href="roi-calculator.html" style="color: #10b981;">ุญุงุณุจุฉ ROI</a> ุฃู <a href="budget-planner.html" style="color: #8b5cf6;">ูุฎุทุท ุงูููุฒุงููุฉ</a>';
          } else if (currentTool.includes('roi')) {
            response = 'ูุฐู ุญุงุณุจุฉ ROI! ุฌุฑุจ ููุงู <a href="cpa-calculator.html" style="color: #f59e0b;">ุญุงุณุจุฉ CPA</a> ุฃู <a href="profit-margin-calculator.html" style="color: #ef4444;">ุญุงุณุจุฉ ุงูุฑุจุญ</a>';
          } else {
            response = 'ุชูุฏุฑ ุชุฌุฑุจ ุฃุฏูุงุชูุง ุงูุชุงููุฉ:<br><br>โข <a href="./">ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</a><br>โข <a href="all-tools.html">ุนุฑุถ ูู ุงูุฃุฏูุงุช</a><br>โข <a href="https://wa.me/201110760081" target="_blank">ุชูุงุตู ูุนูุง</a>';
          }
        }
        
        addMiniChatMessage(response, true);
      }, 1200);
    }
    
    miniChatSend.addEventListener('click', sendMiniChatMessage);
    miniChatInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') sendMiniChatMessage();
    });
    
    // Back to top functionality
    window.addEventListener('scroll', () => {
      const backToTop = document.getElementById('backToTop');
      if (window.pageYOffset > 300) {
        backToTop.style.display = 'flex';
      } else {
        backToTop.style.display = 'none';
      }
    });
    
    document.getElementById('backToTop').addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
      trackButtonClick('Back to Top', document.title.split('|')[0].trim());
    });
    
    // Service Worker Registration
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js').then(function(registration) {
          console.log('SW registered: ', registration);
        }).catch(function(registrationError) {
          console.log('SW registration failed: ', registrationError);
        });
      });
    }
    
    // PWA Install Prompt
    let deferredPrompt;
    
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      // Show install suggestion after 10 seconds
      setTimeout(() => {
        if (miniChat.style.display === 'none' || !miniChat.style.display) {
          addMiniChatMessage('๐ฑ ูู ุชุฑูุฏ ุชุซุจูุช ุงูุฃุฏูุงุช ูุชุทุจูู ุนูู ุฌูุงุฒูุ<br><small style="opacity: 0.7;">ุงุถุบุท ุนูู ุฒุฑ ุงูุชุซุจูุช ูู ุดุฑูุท ุงูุนููุงู</small>', true);
          miniChat.style.display = 'block';
          
          setTimeout(() => {
            miniChat.style.display = 'none';
          }, 8000);
        }
      }, 10000);
    });
  </script>
</body>
</html>