<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ù…ÙØ±Ø´ÙÙ‘Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø°ÙƒÙŠ - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø©</title>
  <link rel="icon" href="../favicon.svg">
  <link rel="stylesheet" href="../global-styles.css" />
  <style>
    .card{background:#fff;border:1px solid #eee;border-radius:14px;padding:18px;margin:12px 0;box-shadow:0 2px 12px rgba(0,0,0,.04)}
    .grid{display:grid;gap:16px}
    @media(min-width:960px){.grid{grid-template-columns:repeat(3,1fr)}}
    .muted{color:#666;font-size:.92rem}
    .kpi{display:flex;gap:12px;flex-wrap:wrap}
    .kpi div{background:#f6f7f9;border:1px solid #e7e9ee;border-radius:10px;padding:10px 12px}
    .pill{display:inline-block;background:#eef6ff;color:#1453b3;border:1px solid #cfe3ff;padding:4px 10px;border-radius:999px;margin:2px}
    .chips{display:flex;gap:6px;flex-wrap:wrap}
    .warn{color:#b80}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .row .col{flex:1 1 260px}
    .small{font-size:.85rem}
    .error{background:#ffe8e6;color:#b10;border:1px solid #f3b1aa;padding:10px 12px;border-radius:10px;margin:10px 0;display:none}
    .actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .btn{background:var(--gradient);color:#fff;border:none;border-radius:20px;padding:8px 14px;cursor:pointer}
    .platforms{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .platforms label{display:flex;align-items:center;gap:6px;background:#f6f7f9;border:1px solid #e7e9ee;border-radius:999px;padding:6px 10px;cursor:pointer}
  </style>
</head>
<body>
  <div class="container" id="app">
    <h1>ğŸ¯ Ù…ÙØ±Ø´ÙÙ‘Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø°ÙƒÙŠ (Ù†Ø³Ø®Ø© Ù…Ø­Ø³Ù‘Ù†Ø©)</h1>
    <p class="muted">Ø§ÙƒØªØ¨ <b>Ù…Ø¬Ø§Ù„ Ø¹Ù…Ù„Ùƒ</b> Ø¨Ø­Ø±ÙŠØ©ØŒ ÙˆØ§Ø®ØªØ± <b>Ø§Ù„Ø¯ÙˆÙ„Ø©</b>ØŒ ÙˆØ­Ø¯Ù‘Ø¯ <b>Ø§Ù„Ù…Ù†ØµØ§Øª</b>ØŒ ÙˆØ³Ù†ÙˆÙ„Ù‘Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ <b>30 ÙƒÙ„Ù…Ø© Ø¨Ø­Ø«</b> Ø¹Ø±Ø¨ÙŠØ© Ù…Ù„Ø§Ø¦Ù…Ø© Ù„Ù…Ø¬Ø§Ù„Ùƒ + Ù…Ø²ÙŠØ¬ Ù‚Ù†ÙˆØ§Øª ÙˆØªÙˆØ²ÙŠØ¹ Ù…ÙŠØ²Ø§Ù†ÙŠØ© ÙˆØªÙˆÙ‚Ø¹Ø§Øª. Ø§Ù„Ø¢Ù† Ù…Ø¹ <b>ØªØµØ¯ÙŠØ± XLSX</b>.</p>

    <div id="err" class="error">ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙˆÙ„. Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© (Ctrl+F5). Ø¥Ù† Ø§Ø³ØªÙ…Ø±ØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§.</div>

    <div class="card">
      <div class="row">
        <div class="col">
          <label>Ø§Ù„Ø¯ÙˆÙ„Ø©</label>
          <input id="country" list="countries" placeholder="Ù…Ø«Ø§Ù„: Ù…ØµØ±ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©" disabled />
          <datalist id="countries"></datalist>
        </div>
        <div class="col">
          <label>Ù…Ø¬Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„ (Ø£ÙƒØªØ¨ Ø¨Ø­Ø±ÙŠØ©)</label>
          <input id="sectorFree" placeholder="Ù…Ø«Ø§Ù„: Ù†Ù‚Ù„ Ø£Ø«Ø§Ø«ØŒ ØªÙˆØ±ÙŠØ¯Ø§Øª Ù…Ø·Ø§Ø¹Ù…ØŒ Ø¹ÙŠØ§Ø¯Ø© Ø£Ø³Ù†Ø§Ù†" />
        </div>
        <div class="col">
          <label>Ø§Ù„Ø¹Ù…Ù„Ø©</label>
          <input id="currency" disabled />
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label>Ù‡Ø¯Ù Ø§Ù„Ø­Ù…Ù„Ø©</label>
          <select id="goal">
            <option value="awareness">ÙˆØ¹ÙŠ</option>
            <option value="traffic">Ø²ÙŠØ§Ø±Ø§Øª</option>
            <option value="leads">Ø¹Ù…Ù„Ø§Ø¡ Ù…Ø­ØªÙ…Ù„ÙˆÙ†</option>
            <option value="sales" selected>Ù…Ø¨ÙŠØ¹Ø§Øª</option>
          </select>
        </div>
        <div class="col">
          <label>Ø§Ù„Ù…Ø¯Ø© (Ø£ÙŠØ§Ù…)</label>
          <input id="days" type="number" min="7" step="1" value="30" />
        </div>
        <div class="col">
          <label>Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©</label>
          <input id="budget" type="number" min="200" step="50" placeholder="Ø£Ø¯Ø®Ù„ Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø­Ù…Ù„Ø©" />
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label>Ù…ÙˆØ³Ù…ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
          <select id="season">
            <option value="none" selected>Ø¨Ø¯ÙˆÙ†</option>
            <option value="Ramadan">Ø±Ù…Ø¶Ø§Ù†</option>
            <option value="Eid">Ø§Ù„Ø¹ÙŠØ¯</option>
            <option value="Back_to_school">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø¯Ø§Ø±Ø³</option>
            <option value="Black_Friday">Ø§Ù„Ø¬Ù…Ø¹Ø© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡</option>
            <option value="Summer">Ø§Ù„ØµÙŠÙ</option>
            <option value="Winter">Ø§Ù„Ø´ØªØ§Ø¡</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="col" style="flex:1 1 100%">
          <label>Ø§Ù„Ù…Ù†ØµØ§Øª (ÙØ¹Ù‘Ù„/Ø£ÙˆÙ‚Ù Ù…Ø§ ØªØ±ÙŠØ¯ ØªØ¶Ù…ÙŠÙ†Ù‡)</label>
          <div class="platforms" id="platformToggles"></div>
        </div>
      </div>

      <button id="run" disabled>ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø®Ø·Ø© ÙˆØ§Ù„ÙƒÙ„Ù…Ø§Øª</button>
      <div class="actions">
        <button id="copyTop30" class="btn" disabled>Ù†Ø³Ø® Ø£ÙØ¶Ù„ 30</button>
        <button id="exportXlsx" class="btn" disabled>ØªÙ†Ø²ÙŠÙ„ XLSX</button>
      </div>
      <p class="small warn">Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù„Ø§ ØªÙØ¹Ø±Ø¶ Ø¥Ù„Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø±ØªØ¨Ø·Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¬Ø°Ø±/Ù…Ø±Ø§Ø¯ÙØ§Øª Ù…Ø¬Ø§Ù„Ùƒ. Ù„Ø£Ø­Ø¬Ø§Ù… Ø¨Ø­Ø« Ø¯Ù‚ÙŠÙ‚Ø© Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø¯ÙˆØ§Øª Ø¨ÙŠØ§Ù†Ø§Øª Ø±Ø³Ù…ÙŠØ©.</p>
    </div>

    <div id="out" style="display:none">
      <div class="card">
        <h2>ğŸ”‘ Ø£Ø´Ù‡Ø± 30 ÙƒÙ„Ù…Ø© Ø¨Ø­Ø« Ù„Ù…Ø¬Ø§Ù„Ùƒ</h2>
        <div id="keywords" class="chips"></div>
      </div>

      <div class="card">
        <h2>âœ… ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ù†ØµØ§Øª ÙˆÙ…Ø²ÙŠØ¬ Ø§Ù„Ù‚Ù†ÙˆØ§Øª</h2>
        <div id="mix" class="chips"></div>
        <p class="muted small" id="mixNote"></p>
      </div>

      <div class="card">
        <h2>ğŸ’° ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…Ù‚ØªØ±Ø­</h2>
        <div id="allocation" class="kpi"></div>
      </div>

      <div class="card">
        <h2>ğŸ“ˆ Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ù…ÙØµÙ„Ø©</h2>
        <div id="forecasts" class="kpi"></div>
      </div>

      <div class="card">
        <h2>ğŸ§ª Playbook Ø§Ù„ØªÙ†ÙÙŠØ°</h2>
        <ol id="playbook"></ol>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="js/xlsx-exporter.js"></script>

  <script>
    function normalize(s){ return (s||'').toLowerCase().replace(/[\u064B-\u0652]/g,'').trim(); }

    // ØªÙˆÙ„ÙŠØ¯ Ù…Ø±Ø§Ø¯ÙØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø³ÙŠØ· Ù…Ù† Ø§Ù„Ù…Ø¬Ø§Ù„
    function deriveSynonyms(base){
      const b=normalize(base);
      const syn=new Set();
      if(/Ù†Ù‚Ù„/.test(b)){ ['Ù†Ù‚Ù„','ØªØ±Ø­ÙŠÙ„','Ø´Ø­Ù†'].forEach(x=>syn.add(x)); }
      if(/Ø¹ÙØ´|Ø§Ø«Ø§Ø«|Ù…ÙˆØ¨ÙŠÙ„ÙŠØ§/.test(b)){ ['Ø¹ÙØ´','Ø§Ø«Ø§Ø«','Ù…ÙˆØ¨ÙŠÙ„ÙŠØ§','Ø§Ø«Ø§Ø« Ù…Ù†Ø²Ù„ÙŠ'].forEach(x=>syn.add(x)); }
      if(/Ù…Ø·Ø§Ø¹Ù…|ØªÙˆØ±ÙŠØ¯|ØªØ¬Ù‡ÙŠØ²/.test(b)){ ['ØªÙˆØ±ÙŠØ¯Ø§Øª','Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª','Ù…Ø¹Ø¯Ø§Øª','Ø§Ø¯ÙˆØ§Øª Ù…Ø·Ø§Ø¹Ù…','ØªØ¬Ù‡ÙŠØ² Ù…Ø·Ø§Ø¹Ù…'].forEach(x=>syn.add(x)); }
      if(/Ø§Ø³Ù†Ø§Ù†|Ø¹ÙŠØ§Ø¯Ù‡/.test(b)){ ['Ø§Ø³Ù†Ø§Ù†','Ø§Ø¨ØªØ³Ø§Ù…Ø©','ØªØ¨ÙŠÙŠØ¶','ØªÙ‚ÙˆÙŠÙ…','Ø­Ø´Ùˆ','Ø²Ø±Ø¹'].forEach(x=>syn.add(x)); }
      // ØªÙÙƒÙŠÙƒ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø¥Ù„Ù‰ Ø¬Ø°ÙˆØ± ØªÙ‚Ø±ÙŠØ¨ÙŠØ©
      b.split(/\s+/).forEach(t=>{ if(t.length>2) syn.add(t.replace(/[Ø©Ù‡]/g,'Ù‡').replace(/[Ø¢Ø£Ø¥Ø§]/g,'Ø§')); });
      return Array.from(syn);
    }

    const INTENTS = ['Ø´Ø±Ø§Ø¡','Ø­Ø¬Ø²','Ø·Ù„Ø¨','Ø³Ø¹Ø±','Ø§Ø³Ø¹Ø§Ø±','ØªÙƒÙ„ÙØ©','Ù‚Ø±ÙŠØ¨','Ø¨Ø§Ù„Ù‚Ø±Ø¨','Ø§ÙØ¶Ù„','Ø§Ø±Ø®Øµ','Ø¬Ø¯ÙŠØ¯','Ø®ØµÙ…','Ø¹Ø±ÙˆØ¶','Ø§ÙˆÙ†Ù„Ø§ÙŠÙ†'];

    function generateKeywordsStrict(freeText){
      const syns = deriveSynonyms(freeText);
      const out = new Set();
      syns.forEach(root=>{
        INTENTS.forEach(i=> out.add(`${root} ${i}`));
        ['Ø±Ù‚Ù…','Ù‡Ø§ØªÙ','ØªÙˆØ§ØµÙ„','Ø¨Ø§Ù„Ù…Ù†Ø²Ù„','Ø³Ø±ÙŠØ¹'].forEach(t=> out.add(`${root} ${t}`));
      });
      // ÙÙ„ØªØ±Ø© ØµØ§Ø±Ù…Ø©: Ù„Ø§ ØªÙÙ‚Ø¨Ù„ ÙƒÙ„Ù…Ø© Ù„Ø§ ØªØ­ØªÙˆÙŠ Ø£Ø­Ø¯ Ø§Ù„Ø¬Ø°ÙˆØ±/Ø§Ù„Ù…Ø±Ø§Ø¯ÙØ§Øª
      const list = Array.from(out).filter(k=> syns.some(r=> k.includes(r))).slice(0,30);
      return list;
    }

    const ALL_PLATFORMS=['Google Ads','Facebook','Instagram','TikTok','Snapchat','YouTube','LinkedIn'];

    async function load(){
      const res=await fetch('../data/ads-country-benchmarks.json',{cache:'no-store'}); if(!res.ok) throw new Error('HTTP '+res.status); return await res.json();
    }
    function fmt(n){ return new Intl.NumberFormat('ar-EG').format(Math.round(n||0)); }

    (async function init(){
      try{
        const data=await load();
        const countries=data.countries||{};
        const cList=document.getElementById('countries'); Object.keys(countries).forEach(k=>{ const o=document.createElement('option'); o.value=countries[k].name||k; cList.appendChild(o); });
        const runBtn=document.getElementById('run'); const copyBtn=document.getElementById('copyTop30'); const xlsxBtn=document.getElementById('exportXlsx');
        document.getElementById('country').disabled=false; runBtn.disabled=false; copyBtn.disabled=false; xlsxBtn.disabled=false;

        // Ø¨Ù†Ø§Ø¡ Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù…Ù†ØµØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆÙ„Ø© (Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§ Ù…ÙÙØ¹Ù„Ø© Ø§ÙØªØ±Ø§Ø¶Ù‹Ø§)
        const toggles=document.getElementById('platformToggles');
        ALL_PLATFORMS.forEach(p=>{
          const id='pl_'+p.replace(/\s+/g,'_');
          const label=document.createElement('label');
          label.innerHTML=`<input type="checkbox" id="${id}" checked> ${p}`;
          toggles.appendChild(label);
        });

        runBtn.addEventListener('click', ()=>{
          const cVal=document.getElementById('country').value.trim();
          const sectorFree=document.getElementById('sectorFree').value.trim();
          if(!cVal||!sectorFree){ alert('Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ø¯ÙˆÙ„Ø© ÙˆØ§ÙƒØªØ¨ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„'); return; }
          const country = Object.values(countries).find(c=> c.name===cVal) || Object.values(countries).find(c=> (c.name||'').includes(cVal)) || null;
          if(!country){ alert('Ø§Ø®ØªØ± Ø¯ÙˆÙ„Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©'); return; }
          document.getElementById('currency').value=country.currency||'';

          // ÙƒÙ„Ù…Ø§Øª Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ù…Ø¬Ø§Ù„ ÙÙ‚Ø·
          const kws = generateKeywordsStrict(sectorFree);
          const kwEl=document.getElementById('keywords'); kwEl.innerHTML='';
          kws.forEach(k=>{ const span=document.createElement('span'); span.className='pill'; span.textContent=k; kwEl.appendChild(span); });
          copyBtn.onclick = ()=>{ navigator.clipboard.writeText(kws.join('\n')).then(()=> alert('ØªÙ… Ù†Ø³Ø® Ø£ÙØ¶Ù„ 30 ÙƒÙ„Ù…Ø©')); };
          xlsxBtn.onclick = ()=>{ const rows = [['Ø§Ù„ÙƒÙ„Ù…Ø©','Ø§Ù„Ù†ÙŠØ©/Ù…Ù„Ø§Ø­Ø¸Ø©'], ...kws.map(k=> [k,''])]; if(window.__XLSX_EXPORT__) window.__XLSX_EXPORT__.downloadXlsx('arabic-keywords.xlsx', rows); else alert('Ù…ÙƒÙˆÙ† XLSX ØºÙŠØ± Ù…ÙØ­Ù…Ù‘Ù„'); };

          // Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…ÙØ¹Ù‘Ù„Ø© ÙÙ‚Ø·
          const activePlatforms = ALL_PLATFORMS.filter(p=> document.getElementById('pl_'+p.replace(/\s+/g,'_')).checked);
          const goal=document.getElementById('goal').value; const days=parseInt(document.getElementById('days').value||'30',10); const totalBudget=parseFloat(document.getElementById('budget').value||'0');
          const r=country.budget_ranges||{small:{min:2000,max:8000}}; const monthly= totalBudget>0? totalBudget : Math.round((r.small.min+r.small.max)/2); const campaignBudget=Math.max(200, Math.round((monthly/30)*days));

          const cpm=country.avg_cpm||{}; const recommended=(country.recommended_platforms||[]).filter(p=> activePlatforms.includes(p));
          const top=[...recommended].sort((a,b)=>(cpm[a]||99)-(cpm[b]||99)).slice(0,Math.min(3,activePlatforms.length));
          const mix=[]; top.forEach(p=> mix.push({platform:p}));

          // ØªÙˆØ²ÙŠØ¹ Ø¨Ø³ÙŠØ· Ø¨Ø§Ù„ØªØ³Ø§ÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…ÙØ¹Ù‘Ù„Ø© (ÙŠÙ…ÙƒÙ† ØªØ±Ø¬ÙŠØ­Ù‡ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¨Ø§Ù„Ù‡Ø¯Ù)
          const equal= activePlatforms.length? campaignBudget/activePlatforms.length : campaignBudget;
          const allocation = activePlatforms.map(p=> ({platform:p, amount: equal}));

          const mixEl=document.getElementById('mix'); mixEl.innerHTML=''; activePlatforms.forEach((p,i)=>{ const s=document.createElement('span'); s.className='pill'; s.textContent=`${i+1} - ${p}`; mixEl.appendChild(s); });
          document.getElementById('mixNote').textContent=`ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…ÙØ¹Ù‘Ù„Ø© ÙÙ‚Ø·: ${activePlatforms.join('ØŒ ')}`;

          const allocEl=document.getElementById('allocation'); allocEl.innerHTML=''; allocation.forEach(a=>{ const d=document.createElement('div'); d.innerHTML=`<b>${a.platform}</b><br>${fmt(a.amount)} ${country.currency}`; allocEl.appendChild(d); });

          // ØªÙˆÙ‚Ø¹Ø§Øª Ù…Ø¨Ø³Ø·Ø© Ù„ÙƒÙ„ Ù…Ù†ØµØ©
          const fEl=document.getElementById('forecasts'); fEl.innerHTML=''; let totals={impressions:0,clicks:0,conversions:0,sales:0};
          allocation.forEach(a=>{ const cp=(cpm[a.platform]||2); const impressions=(a.amount/cp)*1000; const clicks=impressions*0.012; const conversions=clicks*0.02; const sales=conversions*0.7; totals.impressions+=impressions; totals.clicks+=clicks; totals.conversions+=conversions; totals.sales+=sales; const div=document.createElement('div'); div.innerHTML=`<b>${a.platform}</b><br>CPM $${cp.toFixed(2)} | CTR 1.2% | CVR 2.0%<br>Ø§Ù„Ø¸Ù‡ÙˆØ± ${fmt(impressions)} | Ø§Ù„Ù†Ù‚Ø±Ø§Øª ${fmt(clicks)} | Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª ${fmt(conversions)} | Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ${fmt(sales)}`; fEl.appendChild(div); });
          const totalDiv=document.createElement('div'); totalDiv.innerHTML=`<b>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (${fmt(campaignBudget)} ${country.currency})</b><br>Ø§Ù„Ø¸Ù‡ÙˆØ± ${fmt(totals.impressions)} | Ø§Ù„Ù†Ù‚Ø±Ø§Øª ${fmt(totals.clicks)} | Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª ${fmt(totals.conversions)} | Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ${fmt(totals.sales)}`; fEl.appendChild(totalDiv);

          const play=document.getElementById('playbook'); play.innerHTML=''; ['Ø«Ø¨Ù‘Øª Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…ÙØ¹Ù‘Ù„Ø© Ø«Ù… Ø§Ø®ØªØ¨Ø± Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© ÙƒÙ„Ù…Ø§Øª.','Ø£Ù†Ø´Ø¦ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ù†ÙŠØ©: Ø´Ø±Ø§Ø¡/Ø§Ø³Ø¹Ø§Ø±/Ù‚Ø±ÙŠØ¨/Ø­Ø¬Ø².','Ø£Ø¶Ù ÙƒÙ„Ù…Ø§Øª Ø³Ù„Ø¨ÙŠØ© Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù…Ø¬Ø§Ù„Ùƒ Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù‡Ø¯Ø±.','Ø§Ø®ØªØ¨Ø± ØµÙØ­Ø§Øª Ø§Ù„Ù‡Ø¨ÙˆØ· ÙˆØ§Ù„Ù†Ù…Ø§Ø°Ø¬ Ù„Ø±ÙØ¹ CVR.','ÙˆØ³Ù‘Ø¹ ØªØ¯Ø±ÙŠØ¬ÙŠÙ‹Ø§ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ù…Ù†ØµØ© Ø£Ø¯Ø§Ø¡.'].forEach(s=>{ const li=document.createElement('li'); li.textContent=s; play.appendChild(li); });

          document.getElementById('out').style.display='block';
        });
      }catch(e){ document.getElementById('err').style.display='block'; }
    })();
  </script>
</body>
</html>
