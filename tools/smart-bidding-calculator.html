<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© Ø§Ù„Ø°ÙƒÙŠØ© - Target CPA ÙˆTarget ROAS Ø§Ù„Ù…Ø«Ù„Ù‰ | Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</title>
  <meta name="description" content="Ø§Ø­Ø³Ø¨ Target CPA ÙˆTarget ROAS Ø§Ù„Ù…Ø«Ù„Ù‰ Ù„Ø­Ù…Ù„Ø§ØªÙƒ Ù…Ø¹ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø£Ù…Ø«Ù„ ÙˆØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ù„Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ø±Ø¨ÙŠ">
  <meta name="keywords" content="Target CPA, Target ROAS, Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© Ø§Ù„Ø°ÙƒÙŠØ©, Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø©, ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø­Ù…Ù„Ø§Øª, Google Ads">
  
  <!-- Global CSS -->
  <link rel="stylesheet" href="../global-styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  
  <style>
    .bidding-wrapper {
      background: var(--gradient);
      min-height: 100vh;
      padding: 20px;
    }
    
    .bidding-card {
      max-width: 1000px;
      margin: 0 auto;
      background: white;
      border-radius: 25px;
      padding: 40px;
      box-shadow: 0 25px 50px rgba(0,0,0,0.15);
    }
    
    .bidding-header h1 {
      font-size: 2.3rem;
      color: var(--text);
      margin-bottom: 15px;
      font-weight: 800;
      text-align: center;
    }
    
    .bidding-header p {
      color: var(--muted);
      font-size: 1.1rem;
      text-align: center;
      margin-bottom: 30px;
      line-height: 1.6;
    }
    
    .strategy-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }
    
    .strategy-card {
      background: var(--light-bg);
      border: 2px solid var(--border);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .strategy-card.selected {
      border-color: var(--primary);
      background: rgba(102,126,234,0.05);
    }
    
    .strategy-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    
    .strategy-icon {
      font-size: 2.5rem;
      margin-bottom: 15px;
      color: var(--primary);
    }
    
    .strategy-title {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: var(--text);
    }
    
    .strategy-desc {
      color: var(--muted);
      font-size: 0.9rem;
      line-height: 1.4;
    }
    
    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }
    
    .result-metric {
      background: var(--light-bg);
      border: 2px solid var(--border);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
    }
    
    .metric-value {
      font-size: 2rem;
      font-weight: 800;
      color: var(--primary);
      margin-bottom: 8px;
    }
    
    .metric-label {
      color: var(--muted);
      font-size: 0.9rem;
      font-weight: 600;
    }
    
    .recommendations {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      border-radius: 20px;
      padding: 30px;
      margin: 30px 0;
    }
    
    .recommendation-item {
      background: rgba(255,255,255,0.1);
      border-radius: 12px;
      padding: 20px;
      margin: 15px 0;
      display: flex;
      align-items: flex-start;
      gap: 15px;
    }
    
    .recommendation-icon {
      font-size: 1.5rem;
      margin-top: 2px;
    }
    
    .recommendation-content h4 {
      font-weight: 700;
      margin-bottom: 8px;
      font-size: 1.1rem;
    }
    
    .recommendation-text {
      line-height: 1.5;
      opacity: 0.95;
    }
    
    .advanced-settings {
      background: #fef3c7;
      border: 2px solid #fbbf24;
      border-radius: 15px;
      padding: 20px;
      margin: 25px 0;
    }
    
    .advanced-title {
      color: #92400e;
      font-weight: 700;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .risk-selector {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin: 15px 0;
    }
    
    .risk-option {
      background: white;
      border: 2px solid #e5e7eb;
      border-radius: 10px;
      padding: 12px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .risk-option.selected {
      border-color: var(--primary);
      background: rgba(102,126,234,0.1);
    }
    
    .risk-low { border-left: 4px solid #10b981; }
    .risk-medium { border-left: 4px solid #f59e0b; }
    .risk-high { border-left: 4px solid #ef4444; }
    
    @media (max-width: 768px) {
      .bidding-card {
        padding: 25px 20px;
      }
      
      .bidding-header h1 {
        font-size: 1.9rem;
      }
      
      .strategy-cards,
      .results-grid {
        grid-template-columns: 1fr;
      }
      
      .risk-selector {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="bidding-wrapper">
    <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© -->
    <a href="../index.html" class="unified-back-btn">
      <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    </a>
    
    <div class="bidding-card">
      <!-- Header -->
      <div class="bidding-header">
        <h1><i class="fas fa-brain"></i> Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© Ø§Ù„Ø°ÙƒÙŠØ©</h1>
        <p>Ø§Ø­Ø³Ø¨ Target CPA ÙˆTarget ROAS Ø§Ù„Ù…Ø«Ù„Ù‰ Ù„Ø­Ù…Ù„Ø§ØªÙƒ ÙˆØ§Ø®ØªØ± Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ø±Ø¨ÙŠ</p>
      </div>
      
      <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ -->
      <form id="biddingForm">
        <div class="unified-form-grid">
          <div class="unified-form-group">
            <label for="monthlyBudget">
              <i class="fas fa-dollar-sign"></i>
              Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ© (Ø±ÙŠØ§Ù„)
            </label>
            <input type="number" id="monthlyBudget" min="1000" step="100" required placeholder="10000">
          </div>
          
          <div class="unified-form-group">
            <label for="businessType">
              <i class="fas fa-industry"></i>
              Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„ØªØ¬Ø§Ø±ÙŠ
            </label>
            <select id="businessType" required>
              <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†Ø´Ø§Ø·</option>
              <option value="ecommerce">ØªØ¬Ø§Ø±Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</option>
              <option value="services">Ø®Ø¯Ù…Ø§Øª Ù…Ù‡Ù†ÙŠØ©</option>
              <option value="real-estate">Ø¹Ù‚Ø§Ø±Ø§Øª</option>
              <option value="health">ØµØ­Ø© ÙˆØªØ¬Ù…ÙŠÙ„</option>
              <option value="education">ØªØ¹Ù„ÙŠÙ… ÙˆØªØ¯Ø±ÙŠØ¨</option>
              <option value="food">Ù…Ø·Ø§Ø¹Ù… ÙˆØ£ØºØ°ÙŠØ©</option>
              <option value="automotive">Ø³ÙŠØ§Ø±Ø§Øª</option>
              <option value="finance">Ø®Ø¯Ù…Ø§Øª Ù…Ø§Ù„ÙŠØ©</option>
            </select>
          </div>
          
          <div class="unified-form-group">
            <label for="targetRegion">
              <i class="fas fa-map-marker-alt"></i>
              Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©
            </label>
            <select id="targetRegion" required>
              <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</option>
              <option value="saudi">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
              <option value="uae">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
              <option value="egypt">Ù…ØµØ±</option>
              <option value="gulf">Ø¯ÙˆÙ„ Ø§Ù„Ø®Ù„ÙŠØ¬</option>
              <option value="levant">Ø¨Ù„Ø§Ø¯ Ø§Ù„Ø´Ø§Ù…</option>
              <option value="maghreb">Ø§Ù„Ù…ØºØ±Ø¨ Ø§Ù„Ø¹Ø±Ø¨ÙŠ</option>
            </select>
          </div>
          
          <div class="unified-form-group">
            <label for="avgOrderValue">
              <i class="fas fa-receipt"></i>
              Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨ (Ø±ÙŠØ§Ù„)
            </label>
            <input type="number" id="avgOrderValue" min="10" step="10" required placeholder="250">
          </div>
          
          <div class="unified-form-group">
            <label for="profitMargin">
              <i class="fas fa-percent"></i>
              Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ (%)
            </label>
            <input type="number" id="profitMargin" min="5" max="90" step="5" required placeholder="30">
          </div>
          
          <div class="unified-form-group">
            <label for="currentCVR">
              <i class="fas fa-chart-line"></i>
              Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø­Ø§Ù„ÙŠ (%) - Ø§Ø®ØªÙŠØ§Ø±ÙŠ
            </label>
            <input type="number" id="currentCVR" min="0.1" max="50" step="0.1" placeholder="2.5">
          </div>
        </div>
        
        <!-- Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø®Ø§Ø·Ø±Ø© -->
        <div class="advanced-settings">
          <div class="advanced-title">
            <i class="fas fa-sliders-h"></i>
            Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø®Ø§Ø·Ø±Ø© ÙÙŠ Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø©
          </div>
          
          <div class="risk-selector">
            <div class="risk-option risk-low" data-risk="conservative">
              <div style="font-weight: 700; color: #10b981;">ğŸ›¡ï¸ Ù…Ø­Ø§ÙØ¸</div>
              <div style="font-size: 0.85rem; margin-top: 5px;">Ù†ØªØ§Ø¦Ø¬ Ø¢Ù…Ù†Ø© ÙˆÙ…Ø³ØªÙ‚Ø±Ø©</div>
            </div>
            
            <div class="risk-option risk-medium selected" data-risk="balanced">
              <div style="font-weight: 700; color: #f59e0b;">âš–ï¸ Ù…ØªÙˆØ§Ø²Ù†</div>
              <div style="font-size: 0.85rem; margin-top: 5px;">Ø£Ø¯Ø§Ø¡ Ø¬ÙŠØ¯ Ù…Ø¹ Ù…Ø®Ø§Ø·Ø± Ù…Ø¹Ù‚ÙˆÙ„Ø©</div>
            </div>
            
            <div class="risk-option risk-high" data-risk="aggressive">
              <div style="font-weight: 700; color: #ef4444;">ğŸš€ Ø¬Ø±ÙŠØ¡</div>
              <div style="font-size: 0.85rem; margin-top: 5px;">Ø£Ù‚ØµÙ‰ Ù†Ù…Ùˆ Ù…Ø¹ Ù…Ø®Ø§Ø·Ø± Ø£Ø¹Ù„Ù‰</div>
            </div>
          </div>
        </div>
        
        <button type="submit" class="unified-btn-primary">
          <i class="fas fa-calculator"></i>
          Ø§Ø­Ø³Ø¨ Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© Ø§Ù„Ù…Ø«Ù„Ù‰
        </button>
      </form>
      
      <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
      <div id="results" class="unified-results">
        <!-- Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ -->
        <div class="unified-success-message">
          <i class="fas fa-check-circle"></i>
          ØªÙ… Ø­Ø³Ø§Ø¨ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© Ø¨Ù†Ø¬Ø§Ø­! Ø¥Ù„ÙŠÙƒ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ø«Ù„Ù‰
        </div>
        
        <!-- Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© -->
        <div id="recommendedStrategy" class="strategy-cards">
          <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
        </div>
        
        <!-- Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© -->
        <div id="performanceMetrics" class="results-grid">
          <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
        </div>
        
        <!-- Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ø®ØµØµØ© -->
        <div class="recommendations">
          <h3><i class="fas fa-lightbulb"></i> ØªÙˆØµÙŠØ§Øª Ø§Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø®ØµØµØ©</h3>
          <div id="customRecommendations">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Ø£Ø²Ø±Ø§Ø± Ø¹Ø§Ø¦Ù…Ø© -->
  <a href="https://wa.me/201110760081" class="unified-whatsapp-float" target="_blank">
    <i class="fab fa-whatsapp"></i>
  </a>
  
  <!-- Global JavaScript -->
  <script src="../shared-scripts.js"></script>
  
  <script>
    let selectedRisk = 'balanced';
    let selectedStrategy = null;
    
    document.addEventListener('DOMContentLoaded', function() {
      setupRiskSelector();
      setupForm();
    });
    
    function setupRiskSelector() {
      const riskOptions = document.querySelectorAll('.risk-option');
      riskOptions.forEach(option => {
        option.addEventListener('click', function() {
          riskOptions.forEach(opt => opt.classList.remove('selected'));
          this.classList.add('selected');
          selectedRisk = this.dataset.risk;
        });
      });
    }
    
    function setupForm() {
      const form = document.getElementById('biddingForm');
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        calculateBiddingStrategy();
      });
    }
    
    function calculateBiddingStrategy() {
      // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      const data = {
        monthlyBudget: parseFloat(document.getElementById('monthlyBudget').value),
        businessType: document.getElementById('businessType').value,
        targetRegion: document.getElementById('targetRegion').value,
        avgOrderValue: parseFloat(document.getElementById('avgOrderValue').value),
        profitMargin: parseFloat(document.getElementById('profitMargin').value),
        currentCVR: parseFloat(document.getElementById('currentCVR').value) || null,
        riskLevel: selectedRisk
      };
      
      // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª
      const calculations = performCalculations(data);
      
      // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
      displayRecommendedStrategy(calculations.strategy, data);
      displayPerformanceMetrics(calculations.metrics);
      displayCustomRecommendations(calculations.recommendations, data);
      
      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬
      const results = document.getElementById('results');
      results.style.display = 'block';
      results.scrollIntoView({ behavior: 'smooth' });
      
      // ØªØªØ¨Ø¹ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
      if (typeof gtag !== 'undefined') {
        gtag('event', 'smart_bidding_calculation', {
          event_category: 'Smart Bidding Calculator',
          event_label: data.businessType,
          value: Math.round(data.monthlyBudget),
          risk_level: selectedRisk
        });
      }
    }
    
    function performCalculations(data) {
      const dailyBudget = data.monthlyBudget / 30;
      const profitPerSale = (data.avgOrderValue * data.profitMargin) / 100;
      
      // ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© ÙˆÙ†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø§Ø·
      const regionFactors = {
        saudi: { cpcMultiplier: 1.0, competitionLevel: 'medium' },
        uae: { cpcMultiplier: 1.2, competitionLevel: 'high' },
        egypt: { cpcMultiplier: 0.6, competitionLevel: 'low' },
        gulf: { cpcMultiplier: 1.1, competitionLevel: 'medium' },
        levant: { cpcMultiplier: 0.8, competitionLevel: 'medium' },
        maghreb: { cpcMultiplier: 0.7, competitionLevel: 'low' }
      };
      
      const businessFactors = {
        ecommerce: { baseCVR: 2.5, competitionMultiplier: 1.2 },
        services: { baseCVR: 3.5, competitionMultiplier: 1.0 },
        'real-estate': { baseCV $
        health: { baseCV $
        education: { baseCV $
        food: { baseCV $
        automotive: { baseCV $
        finance: { baseCV $
      };
      
      const regionFactor = regionFactors[data.targetRegion] || regionFactors.saudi;
      const businessFactor = businessFactors[data.businessType] || businessFactors.services;
      
      // ØªÙ‚Ø¯ÙŠØ± CVR Ø¥Ø°Ø§ Ù„Ù… ÙŠÙØ¯Ø®Ù„
      const estimatedCVR = data.currentCVR || businessFactor.baseCV .25;
      
      // Ø­Ø³Ø§Ø¨ Target CPA
      const riskMultipliers = {
        conservative: 0.7, // 70% Ù…Ù† Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…ØªØ§Ø­
        balanced: 0.8, // 80% Ù…Ù† Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…ØªØ§Ø­
        aggressive: 0.95 // 95% Ù…Ù† Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…ØªØ§Ø­
      };
      
      const targetCPA = profitPerSale * riskMultipliers[data.riskLevel];
      
      // Ø­Ø³Ø§Ø¨ Target ROAS
      const costPerSale = data.avgOrderValue / (data.profitMargin / 100);
      const targetROAS = data.avgOrderValue / targetCPA;
      
      // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©
      const strategy = chooseOptimalStrategy(data, targetCPA, targetROAS, estimatedCVR);
      
      // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©
      const expectedConversions = Math.round(data.monthlyBudget / targetCPA);
      const expectedRevenue = expectedConversions * data.avgOrderValue;
      const expectedProfit = expectedConversions * profitPerSale;
      const expectedClicks = Math.round(expectedConversions / (estimatedCVR / 100));
      const expectedCPC = data.monthlyBudget / expectedClicks;
      
      return {
        strategy: strategy,
        metrics: {
          targetCPA: targetCPA,
          targetROAS: targetROAS,
          expectedConversions: expectedConversions,
          expectedRevenue: expectedRevenue,
          expectedProfit: expectedProfit,
          expectedClicks: expectedClicks,
          expectedCPC: expectedCPC,
          dailyBudget: dailyBudget,
          estimatedCVR: estimatedCVR
        },
        recommendations: generateRecommendations(data, regionFactor, businessFactor, strategy)
      };
    }
    
    function chooseOptimalStrategy(data, targetCPA, targetROAS, cvr) {
      // Ù…Ù†Ø·Ù‚ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©
      if (data.avgOrderValue > 200 && data.profitMargin > 25) {
        return {
          type: 'troas',
          name: 'Target ROAS',
          icon: 'ğŸ“ˆ',
          description: 'Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ù‚ÙŠÙ…Ø© Ù…Ø¹ Ù‡Ø§Ù…Ø´ Ø±Ø¨Ø­ Ø¬ÙŠØ¯',
          target: targetROAS.toFixed(1),
          reason: 'Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¹Ø§Ù„ÙŠØ© ØªØ¬Ø¹Ù„ Target ROAS Ø£ÙƒØ«Ø± ÙØ¹Ø§Ù„ÙŠØ©'
        };
      } else if (cvr > 3.0 && data.monthlyBudget > 5000) {
        return {
          type: 'tcpa',
          name: 'Target CPA',
          icon: 'ğŸ¯',
          description: 'Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø­Ù…Ù„Ø§Øª Ø°Ø§Øª Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø«Ø§Ø¨Øª',
          target: targetCPA.toFixed(0) + ' Ø±ÙŠØ§Ù„',
          reason: 'Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ‚Ø± ÙŠØ³Ù…Ø­ Ø¨ØªØ­Ø¯ÙŠØ¯ CPA Ù…Ø³ØªÙ‡Ø¯Ù Ø¯Ù‚ÙŠÙ‚'
        };
      } else {
        return {
          type: 'maximize',
          name: 'Maximize Conversions',
          icon: 'âš¡',
          description: 'Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ù„Ø¨Ø¯Ø§ÙŠØ© Ù…Ø¹ ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø¯Ø§Ø¡',
          target: 'ØªÙ„Ù‚Ø§Ø¦ÙŠ',
          reason: 'ÙŠØ­ØªØ§Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙƒØ«Ø± Ù„ØªØ­Ø¯ÙŠØ¯ Target Ø¯Ù‚ÙŠÙ‚'
        };
      }
    }
    
    function displayRecommendedStrategy(strategy, data) {
      const container = document.getElementById('recommendedStrategy');
      
      container.innerHTML = `
        <div class="strategy-card selected">
          <div class="strategy-icon">${strategy.icon}</div>
          <div class="strategy-title">Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©: ${strategy.name}</div>
          <div class="strategy-desc">${strategy.description}</div>
          <div style="margin-top: 15px; font-weight: 700; color: var(--primary); font-size: 1.3rem;">
            Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©: ${strategy.target}
          </div>
          <div style="margin-top: 10px; font-size: 0.9rem; color: var(--muted); line-height: 1.4;">
            ${strategy.reason}
          </div>
        </div>
      `;
    }
    
    function displayPerformanceMetrics(metrics) {
      const container = document.getElementById('performanceMetrics');
      
      const metricsData = [
        { label: 'Target CPA Ø§Ù„Ù…Ù‚ØªØ±Ø­', value: metrics.targetCPA.toFixed(0) + ' Ø±ÙŠØ§Ù„', icon: 'fas fa-bullseye' },
        { label: 'Target ROAS Ø§Ù„Ù…Ù‚ØªØ±Ø­', value: metrics.targetROAS.toFixed(1), icon: 'fas fa-chart-bar' },
        { label: 'Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©', value: metrics.expectedConversions.toLocaleString(), icon: 'fas fa-shopping-cart' },
        { label: 'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©', value: metrics.expectedRevenue.toLocaleString() + ' Ø±ÙŠØ§Ù„', icon: 'fas fa-money-bill-wave' },
        { label: 'Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹', value: metrics.expectedProfit.toLocaleString() + ' Ø±ÙŠØ§Ù„', icon: 'fas fa-chart-line' },
        { label: 'Ø§Ù„Ù†Ù‚Ø±Ø§Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©', value: metrics.expectedClicks.toLocaleString(), icon: 'fas fa-mouse-pointer' },
        { label: 'Ù…ØªÙˆØ³Ø· CPC Ù…ØªÙˆÙ‚Ø¹', value: metrics.expectedCPC.toFixed(2) + ' Ø±ÙŠØ§Ù„', icon: 'fas fa-hand-pointer' },
        { label: 'Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©', value: metrics.dailyBudget.toFixed(0) + ' Ø±ÙŠØ§Ù„', icon: 'fas fa-calendar-day' }
      ];
      
      container.innerHTML = metricsData.map(metric => `
        <div class="result-metric">
          <div class="metric-value">
            <i class="${metric.icon}" style="font-size: 1rem; margin-left: 8px;"></i>
            ${metric.value}
          </div>
          <div class="metric-label">${metric.label}</div>
        </div>
      `).join('');
    }
    
    function generateRecommendations(data, regionFactor, businessFactor, strategy) {
      const recommendations = [];
      
      // ØªÙˆØµÙŠØ© Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©
      if (strategy.type === 'troas') {
        recommendations.push({
          icon: 'fas fa-chart-bar',
          title: 'Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Target ROAS',
          text: `Ø§Ø¨Ø¯Ø£ Ø¨Ù€ ${strategy.target} ROAS Ø«Ù… Ù‚Ù„Ù„Ù‡Ø§ ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹ Ø¨Ù†Ø³Ø¨Ø© 10% ÙƒÙ„ Ø£Ø³Ø¨ÙˆØ¹ Ø­ØªÙ‰ ØªØµÙ„ Ù„Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù…Ù† Ø§Ù„Ø­Ø¬Ù…`
        });
      } else if (strategy.type === 'tcpa') {
        recommendations.push({
          icon: 'fas fa-bullseye',
          title: 'Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Target CPA',
          text: `Ø§Ø¨Ø¯Ø£ Ø¨Ù€ ${strategy.target} CPA ÙˆØ±Ø§Ù‚Ø¨ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù„Ø£ÙˆÙ„ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† Ù‚Ø¨Ù„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„`
        });
      } else {
        recommendations.push({
          icon: 'fas fa-rocket',
          title: 'Ø¨Ø¯Ø§ÙŠØ© Ø°ÙƒÙŠØ©',
          text: 'Ø§Ø¨Ø¯Ø£ Ø¨Ù€ Maximize Conversions Ù„Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø«Ù… Ø§Ù†ØªÙ‚Ù„ Ù„Ù€ Target CPA Ø¨Ø¹Ø¯ 30 ØªØ­ÙˆÙŠÙ„'
        });
      }
      
      // ØªÙˆØµÙŠØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†Ø´Ø§Ø·
      const businessRecommendations = {
        ecommerce: 'ÙØ¹Ù‘Ù„ Enhanced Conversions ÙˆØ±Ø¨Ø· Google Merchant Center Ù„ØªØ­Ø³ÙŠÙ† Ø¯Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
        services: 'Ø§Ø³ØªØ®Ø¯Ù… Call Extensions ÙˆLocation Extensions Ù„Ø²ÙŠØ§Ø¯Ø© Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„',
        'real-estate': 'Ø±ÙƒÙ‘Ø² Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙˆØ§Ø³ØªØ®Ø¯Ù… Lead Form Extensions',
        health: 'ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù…ØªØ«Ø§Ù„ Ø³ÙŠØ§Ø³Ø§Øª Google Ù„Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø·Ø¨ÙŠ ÙˆØ§Ø³ØªØ®Ø¯Ù… ØµÙØ­Ø§Øª Ù‡Ø¨ÙˆØ· Ù…Ø­Ø³Ù‘Ù†Ø©',
        education: 'Ø§Ø³ØªÙ‡Ø¯Ù ÙØªØ±Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ø³ØªØ®Ø¯Ù… Video Ads Ù„Ù„Ø¨Ø±Ø§Ù…Ø¬',
        food: 'ÙØ¹Ù‘Ù„ Location Extensions ÙˆØ±ÙƒÙ‘Ø² Ø¹Ù„Ù‰ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ÙˆØ¬Ø¨Ø§Øª',
        automotive: 'Ø§Ø³ØªØ®Ø¯Ù… Vehicle Ads ÙˆØ§Ø³ØªÙ‡Ø¯Ù Ø§Ù„Ø£Ø­ÙŠØ§Ø¡ Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¯Ø®Ù„',
        finance: 'Ø§Ø­Ø±Øµ Ø¹Ù„Ù‰ Ø§Ù…ØªØ«Ø§Ù„ Ø³ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ø³ØªØ®Ø¯Ù… Certified Ads'
      };
      
      if (businessRecommendations[data.businessType]) {
        recommendations.push({
          icon: 'fas fa-industry',
          title: 'Ù†ØµØ§Ø¦Ø­ Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù‚Ø·Ø§Ø¹',
          text: businessRecommendations[data.businessType]
        });
      }
      
      // ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
      const regionRecommendations = {
        saudi: 'Ø£ÙØ¶Ù„ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†: 8-11 ØµØ¨Ø§Ø­Ø§Ù‹ Ùˆ7-10 Ù…Ø³Ø§Ø¡Ù‹ Ø¨Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø­Ù„ÙŠ',
        uae: 'Ø±ÙƒÙ‘Ø² Ø¹Ù„Ù‰ Ø¯Ø¨ÙŠ ÙˆØ£Ø¨ÙˆØ¸Ø¨ÙŠØŒ ÙˆØ§Ù„Ø¬Ù…Ø¹Ø©-Ø§Ù„Ø³Ø¨Øª Ù„Ù„Ù€ B2C',
        egypt: 'Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø®ÙØ¶Ø© Ù†Ø³Ø¨ÙŠØ§Ù‹ - ÙŠÙ…ÙƒÙ†Ùƒ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø­Ø¬Ù… Ù…Ø¹ Ù†ÙØ³ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©',
        gulf: 'ÙˆØ­Ù‘Ø¯ Ø§Ù„Ø§Ø³ØªÙ‡Ø¯Ø§Ù Ø¹Ø¨Ø± Ø¯ÙˆÙ„ Ø§Ù„Ø®Ù„ÙŠØ¬ Ù„ØªÙˆØ³ÙŠØ¹ Ø§Ù„ÙˆØµÙˆÙ„',
        levant: 'Ø§Ù†ØªØ¨Ù‡ Ù„Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø³ÙŠØ§Ø³ÙŠØ© ÙˆØ§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ© Ø§Ù„ØªÙŠ ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø³Ù„ÙˆÙƒ Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ',
        maghreb: 'Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù„Ù‡Ø¬Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØµÙ„Ø©'
      };
      
      if (regionRecommendations[data.targetRegion]) {
        recommendations.push({
          icon: 'fas fa-map-marker-alt',
          title: 'Ù†ØµØ§Ø¦Ø­ Ø¥Ù‚Ù„ÙŠÙ…ÙŠØ©',
          text: regionRecommendations[data.targetRegion]
        });
      }
      
      // ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ø®Ø§Ø·Ø±Ø©
      const riskRecommendations = {
        conservative: 'Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© ØªØ­Ù‚Ù‚ Ù†ØªØ§Ø¦Ø¬ Ù…Ø³ØªÙ‚Ø±Ø©. Ø±Ø§Ù‚Ø¨ Ø§Ù„ÙØ±Øµ Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø© ÙˆØ§Ø®ØªØ¨Ø± Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹',
        balanced: 'Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© Ø§Ù„Ù…ØªÙˆØ§Ø²Ù†Ø© Ù…Ø«Ù„Ù‰ Ù„Ù…Ø¹Ø¸Ù… Ø§Ù„Ø­Ù…Ù„Ø§Øª. Ø±Ø§Ù‚Ø¨ ROAS Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹ ÙˆØ¹Ø¯Ù‘Ù„ Ø­Ø³Ø¨ Ø§Ù„Ø£Ø¯Ø§Ø¡',
        aggressive: 'Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© Ø§Ù„Ø¬Ø±ÙŠØ¦Ø© ØªØ­Ù‚Ù‚ Ù†Ù…Ùˆ Ø£Ø³Ø±Ø¹ Ù„ÙƒÙ† ØªØªØ·Ù„Ø¨ Ù…Ø±Ø§Ù‚Ø¨Ø© ÙŠÙˆÙ…ÙŠØ©. ÙƒÙ† Ù…Ø³ØªØ¹Ø¯Ø§Ù‹ Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© Ø¥Ø°Ø§ Ø§Ø±ØªÙØ¹Øª Ø§Ù„ØªÙƒÙ„ÙØ©'
      };
      
      recommendations.push({
        icon: selectedRisk === 'conservative' ? 'fas fa-shield-alt' : 
              selectedRisk === 'balanced' ? 'fas fa-balance-scale' : 'fas fa-rocket',
        title: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø±',
        text: riskRecommendations[selectedRisk]
      });
      
      // Ù†ØµØ§Ø¦Ø­ Ø¹Ø§Ù…Ø©
      recommendations.push({
        icon: 'fas fa-clock',
        title: 'ÙØªØ±Ø© Ø§Ù„ØªØ¹Ù„Ù…',
        text: 'Ø§ØªÙ‘ØµÙ„ Ø§Ù„Ø­Ù…Ù„Ø© ØªØªØ¹Ù„Ù… Ù„Ù…Ø¯Ø© 7-14 ÙŠÙˆÙ…. Ù„Ø§ ØªØ¬Ø±ÙŠ ØªØºÙŠÙŠØ±Ø§Øª ÙƒØ¨ÙŠØ±Ø© Ø®Ù„Ø§Ù„ Ù‡Ø°Ù‡ Ø§Ù„ÙØªØ±Ø©'
      });
      
      return recommendations;
    }
    
    function displayCustomRecommendations(recommendations, data) {
      const container = document.getElementById('customRecommendations');
      
      container.innerHTML = recommendations.map(rec => `
        <div class="recommendation-item">
          <div class="recommendation-icon">
            <i class="${rec.icon}"></i>
          </div>
          <div class="recommendation-content">
            <h4>${rec.title}</h4>
            <div class="recommendation-text">${rec.text}</div>
          </div>
        </div>
      `).join('');
    }
  </script>
</body>
</html>