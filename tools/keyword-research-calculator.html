<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” Ø¨Ø§Ø­Ø« Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù… | Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</title>
    <meta name="description" content="Ø¨Ø§Ø­Ø« ÙƒÙ„Ù…Ø§Øª Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ù…Ù†Ø§ÙØ³Ø© ÙˆØªÙ‚Ø¯ÙŠØ± Ø§Ù„ÙØ±Øµ Ù…Ø¹ ØªØµØ¯ÙŠØ± CSV Ù„Ù„Ù†ØªØ§Ø¦Ø¬">
    <meta name="keywords" content="Ø¨Ø­Ø« ÙƒÙ„Ù…Ø§Øª, Ù…ÙˆÙ„Ø¯ ÙƒÙ„Ù…Ø§Øª, SEO, Google Ads, Ø¨Ø­Ø« Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©, ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©">
    
    <!-- Global CSS -->
    <link rel="stylesheet" href="../global-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        .keyword-wrapper {
            background: var(--gradient);
            min-height: 100vh;
            padding: 20px;
        }
        
        .keyword-results-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin: 25px 0;
        }
        
        .keyword-results-table th {
            background: var(--gradient);
            color: white;
            padding: 15px 12px;
            text-align: center;
            font-weight: 700;
            font-size: 0.9rem;
        }
        
        .keyword-results-table td {
            padding: 12px 10px;
            text-align: center;
            border-bottom: 1px solid var(--border);
            vertical-align: middle;
        }
        
        .keyword-results-table tbody tr:hover {
            background: var(--light-bg);
        }
        
        .keyword-cell {
            text-align: right;
            font-weight: 600;
            color: var(--text);
        }
        
        .difficulty-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }
        
        .difficulty-low {
            background: #dcfce7;
            color: #166534;
        }
        
        .difficulty-medium {
            background: #fef3c7;
            color: #92400e;
        }
        
        .difficulty-high {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .opportunity-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 700;
        }
        
        .opportunity-excellent {
            background: #dcfce7;
            color: #166534;
        }
        
        .opportunity-good {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .opportunity-fair {
            background: #fef3c7;
            color: #92400e;
        }
        
        .opportunity-poor {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .export-section {
            background: var(--light-bg);
            border-radius: 15px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .summary-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid var(--border);
            box-shadow: 0 8px 20px rgba(0,0,0,0.05);
        }
        
        .summary-number {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .summary-label {
            color: var(--muted);
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .keyword-results-table {
                font-size: 0.8rem;
            }
            
            .keyword-results-table th,
            .keyword-results-table td {
                padding: 8px 6px;
            }
            
            .summary-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="keyword-wrapper">
        <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© -->
        <a href="../index.html" class="unified-back-btn">
            <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        </a>
        
        <div class="unified-card">
            <!-- Header -->
            <div class="unified-header">
                <h1><i class="fas fa-search-plus"></i> Ø¨Ø§Ø­Ø« Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h1>
                <p>Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£ÙØ¶Ù„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù…Ø¹ Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ù…Ù†Ø§ÙØ³Ø© ÙˆØªÙ‚Ø¯ÙŠØ± Ø§Ù„ÙØ±Øµ</p>
            </div>
            
            <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨Ø­Ø« -->
            <form id="researchForm">
                <div class="unified-form-grid">
                    <div class="unified-form-group">
                        <label for="seedKeyword">
                            <i class="fas fa-seed"></i>
                            Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
                        </label>
                        <input type="text" id="seedKeyword" required placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ø°ÙŠØ© Ø±ÙŠØ§Ø¶ÙŠØ©">
                    </div>
                    
                    <div class="unified-form-group">
                        <label for="targetLocation">
                            <i class="fas fa-map-marker-alt"></i>
                            Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù
                        </label>
                        <select id="targetLocation" required>
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆÙ‚Ø¹</option>
                            <option value="saudi-arabia">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                            <option value="united-arab-emirates">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
                            <option value="egypt">Ù…ØµØ±</option>
                            <option value="kuwait">Ø§Ù„ÙƒÙˆÙŠØª</option>
                            <option value="qatar">Ù‚Ø·Ø±</option>
                            <option value="bahrain">Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†</option>
                            <option value="oman">Ø¹ÙÙ…Ø§Ù†</option>
                            <option value="jordan">Ø§Ù„Ø£Ø±Ø¯Ù†</option>
                            <option value="lebanon">Ù„Ø¨Ù†Ø§Ù†</option>
                        </select>
                    </div>
                    
                    <div class="unified-form-group">
                        <label for="monthlyBudget">
                            <i class="fas fa-dollar-sign"></i>
                            Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ© (Ø±ÙŠØ§Ù„)
                        </label>
                        <input type="number" id="monthlyBudget" min="500" step="100" required placeholder="5000">
                    </div>
                    
                    <div class="unified-form-group">
                        <label for="businessModel">
                            <i class="fas fa-business-time"></i>
                            Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¹Ù…Ù„
                        </label>
                        <select id="businessModel" required>
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</option>
                            <option value="ecommerce">ØªØ¬Ø§Ø±Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</option>
                            <option value="lead-gen">Ø¬Ù…Ø¹ Ø¹Ù…Ù„Ø§Ø¡ Ù…Ø­ØªÙ…Ù„ÙŠÙ†</option>
                            <option value="saas">Ø®Ø¯Ù…Ø© Ø¨Ø±Ù…Ø¬ÙŠØ©</option>
                            <option value="local-business">Ù†Ø´Ø§Ø· Ù…Ø­Ù„ÙŠ</option>
                            <option value="blog">Ù…Ø¯ÙˆÙ†Ø©/Ù…Ø­ØªÙˆÙ‰</option>
                        </select>
                    </div>
                </div>
                
                <button type="submit" class="unified-btn-primary">
                    <i class="fas fa-search"></i>
                    Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„
                </button>
            </form>
            
            <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
            <div id="results" class="unified-results">
                <!-- Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ -->
                <div class="unified-success-message">
                    <i class="fas fa-check-circle"></i>
                    ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø¨Ù†Ø¬Ø§Ø­! Ø¥Ù„ÙŠÙƒ Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„ØªÙˆØµÙŠØ§Øª
                </div>
                
                <!-- Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹ -->
                <div id="summaryCards" class="summary-cards">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
                </div>
                
                <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
                <div id="keywordResults">
                    <table class="keyword-results-table" id="resultsTable">
                        <thead>
                            <tr>
                                <th>Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©</th>
                                <th>Ø­Ø¬Ù… Ø§Ù„Ø¨Ø­Ø«</th>
                                <th>CPC Ù…ØªÙˆÙ‚Ø¹</th>
                                <th>ØµØ¹ÙˆØ¨Ø©</th>
                                <th>Ø§Ù„ÙØ±ØµØ©</th>
                                <th>Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</th>
                                <th>Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</th>
                            </tr>
                        </thead>
                        <tbody id="resultsTableBody">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Ù‚Ø³Ù… Ø§Ù„ØªØµØ¯ÙŠØ± -->
                <div class="export-section">
                    <h3><i class="fas fa-download"></i> ØªØµØ¯ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
                    <p style="margin-bottom: 20px; color: var(--muted);">
                        ØµØ¯Ù‘Ø± Ù†ØªØ§Ø¦Ø¬ Ø¨Ø­Ø«Ùƒ Ø¥Ù„Ù‰ Ù…Ù„Ù CSV Ù„Ø§Ø³ØªØ¹Ù…Ø§Ù„Ù‡ ÙÙŠ Google Ads Ø£Ùˆ Excel
                    </p>
                    <button type="button" class="unified-btn-secondary" onclick="exportToCSV()">
                        <i class="fas fa-file-csv"></i>
                        ØªÙ†Ø²ÙŠÙ„ Ù…Ù„Ù CSV
                    </button>
                    <button type="button" class="unified-btn-secondary" onclick="copyToClipboard()" style="margin-right: 10px;">
                        <i class="fas fa-copy"></i>
                        Ù†Ø³Ø® Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                    </button>
                </div>
                
                <!-- ØªÙˆØµÙŠØ§Øª Ø§Ù„ØªØ­Ø³ÙŠÙ† -->
                <div class="unified-recommendations">
                    <h3><i class="fas fa-lightbulb"></i> Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ø³ØªÙ‡Ø¯Ø§Ù Ø§Ù„ÙƒÙ„Ù…Ø§Øª</h3>
                    <div id="keywordStrategy">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø£Ø²Ø±Ø§Ø± Ø¹Ø§Ø¦Ù…Ø© -->
    <a href="https://wa.me/201110760081" class="unified-whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>
    
    <!-- Global JavaScript -->
    <script src="../shared-scripts.js"></script>
    
    <script>
        let keywordData = [];
        
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('researchForm');
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                performKeywordResearch();
            });
        });
        
        function performKeywordResearch() {
            const formData = {
                seedKeyword: document.getElementById('seedKeyword').value.trim(),
                targetLocation: document.getElementById('targetLocation').value,
                monthlyBudget: parseFloat(document.getElementById('monthlyBudget').value),
                businessModel: document.getElementById('businessModel').value
            };
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù‚Ø¹ÙŠØ© Ù„Ù„Ø¨Ø­Ø«
            const keywords = generateKeywordData(formData);
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³ ÙˆØ§Ù„ØªÙˆØµÙŠØ§Øª
            const analysis = analyzeKeywords(keywords, formData);
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            displaySummaryCards(analysis.summary);
            displayKeywordResults(keywords);
            displayStrategy(analysis.strategy);
            
            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            keywordData = keywords;
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
            
            // ØªØªØ¨Ø¹
            if (typeof gtag !== 'undefined') {
                gtag('event', 'keyword_research', {
                    event_category: 'Keyword Research Calculator',
                    event_label: formData.seedKeyword,
                    location: formData.targetLocation,
                    keywords_generated: keywords.length
                });
            }
        }
        
        function generateKeywordData(formData) {
            const { seedKeyword, targetLocation, businessModel } = formData;
            
            // Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†Ø´Ø§Ø·
            const keywordPatterns = {
                ecommerce: ['Ø´Ø±Ø§Ø¡', 'Ù…ØªØ¬Ø±', 'Ø¹Ø±Ø¶', 'Ø®ØµÙ…', 'Ø¨Ø§Ù„Ø¬Ù…Ù„Ø©', 'Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª'],
                'lead-gen': ['Ø´Ø±ÙƒØ©', 'Ø®Ø¯Ù…Ø©', 'Ø§Ø³ØªØ´Ø§Ø±Ø©', 'Ø¹Ø±Ø¶ Ø³Ø¹Ø±', 'ØªÙˆØ§ØµÙ„'],
                saas: ['Ø¨Ø±Ù†Ø§Ù…Ø¬', 'ØªØ·Ø¨ÙŠÙ‚', 'Ù†Ø¸Ø§Ù…', 'Ø­Ù„', 'Ù…Ø¬Ø§Ù†ÙŠ', 'ØªØ¬Ø±Ø¨Ø©'],
                'local-business': ['Ù‚Ø±ÙŠØ¨', 'Ù…Ø­Ù„ÙŠ', 'ÙÙŠ', 'Ù…Ù†Ø·Ù‚Ø©', 'Ø£ÙØ¶Ù„'],
                blog: ['Ø·Ø±ÙŠÙ‚Ø©', 'Ù†ØµØ§Ø¦Ø­', 'Ø¯Ù„ÙŠÙ„', 'Ø´Ø±Ø­', 'ØªØ¹Ù„Ù…']
            };
            
            const patterns = keywordPatterns[businessModel] || keywordPatterns.ecommerce;
            const locationFactors = {
                'saudi-arabia': { cpcMultiplier: 1.0, volumeMultiplier: 1.0 },
                'united-arab-emirates': { cpcMultiplier: 1.3, volumeMultiplier: 0.7 },
                'egypt': { cpcMultiplier: 0.4, volumeMultiplier: 1.8 },
                'kuwait': { cpcMultiplier: 1.1, volumeMultiplier: 0.3 },
                'qatar': { cpcMultiplier: 1.2, volumeMultiplier: 0.2 },
                'bahrain': { cpcMultiplier: 1.0, volumeMultiplier: 0.1 }
            };
            
            const locationData = locationFactors[targetLocation] || locationFactors['saudi-arabia'];
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª
            const keywords = [];
            
            // Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
            keywords.push(generateKeywordEntry(seedKeyword, 1000, 2.5, locationData, 'medium'));
            
            // ØªÙ†ÙˆÙŠØ¹Ø§Øª Ø§Ù„ÙƒÙ„Ù…Ø©
            patterns.forEach((pattern, index) => {
                const variations = [
                    `${seedKeyword} ${pattern}`,
                    `${pattern} ${seedKeyword}`,
                    `${seedKeyword} ${pattern} ÙÙŠ ${getLocationName(targetLocation)}`
                ];
                
                variations.forEach((keyword, varIndex) => {
                    const baseVolume = Math.random() * 800 + 200;
                    const baseCPC = Math.random() * 3 + 1;
                    const difficulty = ['low', 'medium', 'high'][Math.floor(Math.random() * 3)];
                    
                    keywords.push(generateKeywordEntry(keyword, baseVolume, baseCPC, locationData, difficulty));
                });
            });
            
            // ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„ÙØ±ØµØ©
            return keywords.sort((a, b) => b.opportunityScore - a.opportunityScore).slice(0, 25);
        }
        
        function generateKeywordEntry(keyword, baseVolume, baseCPC, locationData, difficulty) {
            const volume = Math.round(baseVolume * locationData.volumeMultiplier);
            const cpc = (baseCPC * locationData.cpcMultiplier).toFixed(2);
            const competition = Math.random();
            
            // Ø­Ø³Ø§Ø¨ Ø¯Ø±Ø¬Ø© Ø§Ù„ÙØ±ØµØ©
            const difficultyScore = difficulty === 'low' ? 0.8 : difficulty === 'medium' ? 0.5 : 0.3;
            const volumeScore = Math.min(volume / 1000, 1);
            const cpcScore = Math.max(1 - (parseFloat(cpc) / 5), 0);
            const opportunityScore = (difficultyScore * 0.4 + volumeScore * 0.4 + cpcScore * 0.2) * 100;
            
            return {
                keyword: keyword,
                volume: volume,
                cpc: parseFloat(cpc),
                difficulty: difficulty,
                opportunityScore: Math.round(opportunityScore),
                monthlyCost: Math.round(volume * 0.1 * parseFloat(cpc)), // ØªÙ‚Ø¯ÙŠØ± 10% CTR
                expectedVisits: Math.round(volume * 0.1) // ØªÙ‚Ø¯ÙŠØ± 10% CTR
            };
        }
        
        function getLocationName(code) {
            const names = {
                'saudi-arabia': 'Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©',
                'united-arab-emirates': 'Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª',
                'egypt': 'Ù…ØµØ±',
                'kuwait': 'Ø§Ù„ÙƒÙˆÙŠØª',
                'qatar': 'Ù‚Ø·Ø±',
                'bahrain': 'Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†'
            };
            return names[code] || 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø©';
        }
        
        function analyzeKeywords(keywords, formData) {
            const summary = {
                totalKeywords: keywords.length,
                avgCPC: (keywords.reduce((sum, k) => sum + k.cpc, 0) / keywords.length).toFixed(2),
                totalVolume: keywords.reduce((sum, k) => sum + k.volume, 0),
                highOpportunity: keywords.filter(k => k.opportunityScore >= 70).length,
                estimatedClicks: keywords.reduce((sum, k) => sum + k.expectedVisits, 0),
                projectedCost: Math.min(keywords.reduce((sum, k) => sum + k.monthlyCost, 0), formData.monthlyBudget)
            };
            
            const strategy = [
                `ğŸ¥ **Ø§Ø¨Ø¯Ø£ Ø¨Ù€${keywords.filter(k => k.difficulty === 'low').length} ÙƒÙ„Ù…Ø© Ø³Ù‡Ù„Ø©** Ù„Ø¶Ù…Ø§Ù† Ù†ØªØ§Ø¦Ø¬ Ø³Ø±ÙŠØ¹Ø©`,
                `ğŸ† **Ø§Ù„ÙØ±Øµ Ø§Ù„Ø¹Ø§Ù„ÙŠØ©**: ${summary.highOpportunity} ÙƒÙ„Ù…Ø© Ø¨Ø¯Ø±Ø¬Ø© ÙØ±ØµØ© +70 ØªØ³ØªØ­Ù‚ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±`,
                `ğŸ’° **Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©**: ${summary.projectedCost.toLocaleString()} Ø±ÙŠØ§Ù„ Ø´Ù‡Ø±ÙŠØ§Ù‹ Ù„ØªØºØ·ÙŠØ© Ø£ÙØ¶Ù„ 20 ÙƒÙ„Ù…Ø©`,
                `ğŸ‘¥ **Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹**: ${summary.estimatedClicks.toLocaleString()} Ø²Ø§Ø¦Ø± Ø´Ù‡Ø±ÙŠØ§Ù‹ Ù…Ø¹ ØªÙˆÙ‚Ø¹ 10% CTR`
            ];
            
            return { summary, strategy };
        }
        
        function displaySummaryCards(summary) {
            const container = document.getElementById('summaryCards');
            
            const cards = [
                { label: 'Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª', value: summary.totalKeywords },
                { label: 'Ù…ØªÙˆØ³Ø· CPC', value: summary.avgCPC + ' Ø±' },
                { label: 'Ø­Ø¬Ù… Ø§Ù„Ø¨Ø­Ø«', value: summary.totalVolume.toLocaleString() },
                { label: 'ÙØ±Øµ Ø¹Ø§Ù„ÙŠØ©', value: summary.highOpportunity },
                { label: 'Ø²ÙŠØ§Ø±Ø§Øª Ù…ØªÙˆÙ‚Ø¹Ø©', value: summary.estimatedClicks.toLocaleString() },
                { label: 'Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©', value: summary.projectedCost.toLocaleString() + ' Ø±' }
            ];
            
            container.innerHTML = cards.map(card => `
                <div class="summary-card">
                    <div class="summary-number">${card.value}</div>
                    <div class="summary-label">${card.label}</div>
                </div>
            `).join('');
        }
        
        function displayKeywordResults(keywords) {
            const tbody = document.getElementById('resultsTableBody');
            
            tbody.innerHTML = keywords.map(keyword => {
                const difficultyClass = `difficulty-${keyword.difficulty}`;
                const opportunityClass = 
                    keyword.opportunityScore >= 80 ? 'opportunity-excellent' :
                    keyword.opportunityScore >= 60 ? 'opportunity-good' :
                    keyword.opportunityScore >= 40 ? 'opportunity-fair' : 'opportunity-poor';
                    
                const opportunityText = 
                    keyword.opportunityScore >= 80 ? 'Ù…Ù…ØªØ§Ø²' :
                    keyword.opportunityScore >= 60 ? 'Ø¬ÙŠØ¯' :
                    keyword.opportunityScore >= 40 ? 'Ù…Ù‚Ø¨ÙˆÙ„' : 'Ø¶Ø¹ÙŠÙ';
                    
                return `
                    <tr>
                        <td class="keyword-cell">${keyword.keyword}</td>
                        <td>${keyword.volume.toLocaleString()}/Ø´Ù‡Ø±</td>
                        <td>${keyword.cpc.toFixed(2)} Ø±ÙŠØ§Ù„</td>
                        <td>
                            <span class="difficulty-badge ${difficultyClass}">
                                ${keyword.difficulty === 'low' ? 'Ø³Ù‡Ù„' : 
                                  keyword.difficulty === 'medium' ? 'Ù…ØªÙˆØ³Ø·' : 'ØµØ¹Ø¨'}
                            </span>
                        </td>
                        <td>
                            <span class="opportunity-badge ${opportunityClass}">
                                ${keyword.opportunityScore}% ${opportunityText}
                            </span>
                        </td>
                        <td>${keyword.monthlyCost.toLocaleString()} Ø±ÙŠØ§Ù„</td>
                        <td>${keyword.expectedVisits.toLocaleString()}</td>
                    </tr>
                `;
            }).join('');
        }
        
        function displayStrategy(strategy) {
            const container = document.getElementById('keywordStrategy');
            
            container.innerHTML = strategy.map(item => `
                <div class="unified-recommendation-item">${item}</div>
            `).join('');
        }
        
        function exportToCSV() {
            if (keywordData.length === 0) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¬Ø±Ø§Ø¡ Ø¨Ø­Ø« Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            const headers = 'Ø§Ù„ÙƒÙ„Ù…Ø©,Ø­Ø¬Ù…_Ø§Ù„Ø¨Ø­Ø«,CPC_Ù…ØªÙˆÙ‚Ø¹,Ø§Ù„ØµØ¹ÙˆØ¨Ø©,Ø¯Ø±Ø¬Ø©_Ø§Ù„ÙØ±ØµØ©,Ø§Ù„ØªÙƒÙ„ÙØ©_Ø§Ù„Ø´Ù‡Ø±ÙŠØ©,Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª_Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©';
            
            const csvContent = headers + '\n' + keywordData.map(k => 
                `"${k.keyword}",${k.volume},${k.cpc},${k.difficulty},${k.opportunityScore}%,${k.monthlyCost},${k.expectedVisits}`
            ).join('\n');
            
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `Ø¨Ø­Ø«_Ø§Ù„ÙƒÙ„Ù…Ø§Øª_${new Date().toISOString().split('T')[0]}.csv`;
            link.click();
            
            // ØªØªØ¨Ø¹
            if (typeof gtag !== 'undefined') {
                gtag('event', 'csv_export', {
                    event_category: 'Keyword Research Calculator',
                    keywords_exported: keywordData.length
                });
            }
        }
        
        function copyToClipboard() {
            if (keywordData.length === 0) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¬Ø±Ø§Ø¡ Ø¨Ø­Ø« Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            const text = keywordData.map(k => 
                `${k.keyword} - Ø­Ø¬Ù…: ${k.volume} - CPC: ${k.cpc} Ø±ÙŠØ§Ù„ - ÙØ±ØµØ©: ${k.opportunityScore}%`
            ).join('\n');
            
            navigator.clipboard.writeText(text).then(() => {
                alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ù†Ø¬Ø§Ø­!');
            }).catch(() => {
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø³Ø®');
            });
        }
    </script>
</body>
</html>